# Do not accept DELETE, SEARCH and other methods, only these
if ($request_method !~ ^(GET|HEAD|POST)$ ) {
     return 444;
}

# Block download agents
if ($http_user_agent ~* LWP::Simple|BBBike|wget|libwww-perl) {
     return 403;
}

# Block some robots
if ($http_user_agent ~* msnbot|scrapbot|Purebot|Baiduspider|Lipperhey|Mail.Ru) {
     return 403;
} 

# Deny certain Referers
if ( $http_referer ~* (babes|girl|jewelry|love|nudit|nude|poker|porn|sex|teen|casino|viagra) ){
     # return 404;
     return 403;
}

# deliver a static 404
error_page 404 /404.html;
location  /404.html {
     internal;
}
 
# Deliver 404 instead of 403 "Forbidden"
error_page 403 = 404;
 
# Do not allow access to files giving away your WordPress version
location ~ /(\.|wp-config.php|readme.html|licence.txt) {
     return 404;
}

# Deny access to hidden files
location ~ /\. {
     deny all;
     access_log off;
     log_not_found off;
}

# Password protect WordPress directories
# Figure this out, not working correctly
#location ~ /(wp-admin/.*|wp-content/.*|wp-includes/.*) {
#     auth_basic "Restricted";
#     auth_basic_user_file /etc/nginx/configs/.htpasswd/passwd;
#}